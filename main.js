const I18N={zh:{slogan:'进口车专家 · 值得信赖',sub:'PAKAR KERETA IMPORT · BOLEH DIPERCAYAI',searchPh:'搜索品牌 / 车型 / 年份…',m1:'日本/英国/澳洲进口 · 低里数 · 原装高规格 · 真实车价',m2:'专业代办注册 · 资料齐全 · 交付到家 · 售后无忧',m3:'Only the Best Imports · Genuine Specs · Low Mileage',m4:'Japan · UK · Australia Premium Import Cars',m5:'Direct Import · Transparent Process · Doorstep Delivery',m6:'低里数 · 保值强 · 省油耐用',p1:'车辆已抵达巴生港口码头，付款确认后我们协助文件并安排免费送到府上。',p2:'进口流程透明：运单、报关、税费、检验资料完整清晰。',p3:'专业团队落港、检查、固定与运输，保障车辆安全。',p4:'顾客确认后，我们进行资料核验与快速注册。',p5:'完成保险与路税指导，安排交车，支持全国免费配送。',p6:'售后支持与保养建议，二手车保值咨询。',foot:'本网站仅展示进口车信息；无下单按钮，需由我们后台为客户注册ID后查询。'},en:{slogan:'Import Car Specialist · Trusted',sub:'PAKAR KERETA IMPORT · BOLEH DIPERCAYAI',searchPh:'Search brand / model / year…',m1:'Japan/UK/Australia Imports · Low Mileage · Genuine High Specs · Real Prices',m2:'Registration Assistance · Complete Documents · Doorstep Delivery · After-sales Support',m3:'Only the Best Imports · Genuine Specs · Low Mileage',m4:'Japan · UK · Australia Premium Import Cars',m5:'Direct Import · Transparent Process · Doorstep Delivery',m6:'Low Mileage · Strong Resale · Efficient & Durable',p1:'Cars have arrived at Port Klang. After payment confirmation, we handle documents and deliver to your doorstep for free.',p2:'Transparent import steps: BL, customs, tax, inspection—all clear.',p3:'Professional team: port handling, inspection, securing & transport.',p4:'After customer confirmation, we verify documents and register quickly.',p5:'Insurance & road tax guidance, nationwide free delivery.',p6:'After-sales support & maintenance advice; resale consultation.',foot:'Display-only site. No order button. Customers view details after we register an ID for them.'},bm:{slogan:'Pakar Kereta Import · Boleh Dipercayai',sub:'PAKAR KERETA IMPORT · BOLEH DIPERCAYAI',searchPh:'Cari jenama / model / tahun…',m1:'Import Jepun/UK/Australia · Perbatuan Rendah · Spes Tulen · Harga Sebenar',m2:'Bantu Pendaftaran · Dokumen Lengkap · Hantar ke Pintu · Sokongan Lepas Jualan',m3:'Hanya Import Terbaik · Spes Tulen · Perbatuan Rendah',m4:'Japan · UK · Australia Premium Import Cars',m5:'Import Terus · Proses Telus · Penghantaran ke Rumah',m6:'Perbatuan Rendah · Nilai Jual Semula Tinggi · Jimat',p1:'Kereta tiba di Port Klang. Selepas bayaran disahkan, kami urus dokumen & hantar percuma.',p2:'Proses telus: BL, kastam, cukai, pemeriksaan—lengkap.',p3:'Pasukan profesional: urus pelabuhan, periksa, ikat & pengangkutan.',p4:'Selepas sahkan, kami semak dokumen & daftar segera.',p5:'Panduan insurans & cukai jalan, penghantaran percuma seluruh negara.',p6:'Sokongan selepas jualan & nasihat penyelenggaraan.',foot:'Laman paparan sahaja. Tiada butang tempahan. ID pelanggan dibuat oleh kami.'}};const detectLang=()=>{const l=(navigator.language||'en').toLowerCase();if(l.startsWith('zh'))return'zh';if(l.startsWith('ms')||l.startsWith('id'))return'bm';return'en'};let curLang=localStorage.getItem('lang')||detectLang();function applyI18n(lang){curLang=lang;localStorage.setItem('lang',lang);document.querySelectorAll('[data-i18n]').forEach(el=>{const k=el.getAttribute('data-i18n');el.textContent=I18N[lang][k]||el.textContent;});document.querySelectorAll('[data-i18n-ph]').forEach(el=>{const k=el.getAttribute('data-i18n-ph');el.setAttribute('placeholder',I18N[lang][k]||el.getAttribute('placeholder'));});document.querySelectorAll('.lang button').forEach(b=>b.classList.toggle('active',b.dataset.lang===lang));}document.addEventListener('click',e=>{if(e.target.matches('.lang button'))applyI18n(e.target.dataset.lang);});applyI18n(curLang);async function loadCars(){const cars=await (await fetch('data/cars.json?_='+Date.now())).json();const mk=c=>`<a class='card' href='car.html?id=${encodeURIComponent(c.id)}'><div class='cov'><img src='${c.cover}' alt='${c.name}'></div><div class='meta'><div class='name'>${c.name}</div><div class='year'>${c.year} · ${c.origin}</div><div class='price'>RM ${(+(c.price)||0).toLocaleString()}</div>${c.mileage?`<div class='km'>${(+c.mileage).toLocaleString()} km</div>`:''}</div></a>`;const half=Math.ceil(cars.length/2);document.querySelector('#carsTop').innerHTML=cars.slice(0,half).map(mk).join('');document.querySelector('#carsBottom').innerHTML=cars.slice(half).map(mk).join('');}loadCars();document.getElementById('btnSearch').addEventListener('click',()=>{const q=document.getElementById('q').value.trim().toLowerCase();if(!q)return;location.href='car.html?search='+encodeURIComponent(q);});